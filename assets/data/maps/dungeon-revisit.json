[{
	"type": "EventTrigger",
	"x": 752,
	"y": 856,
	"level": 1,
	"settings": {
		"size": {
			"x": 16,
			"y": 16
		},
		"event": [{
				"type": "CHANGE_VAR_BOOL",
				"changeType": "set",
				"value": false,
				"varName": "tmp.dungeonReplay"
			}, {
				"name": "start",
				"type": "LABEL"
			}, {
				"type": "CLEAR_BOARD_MSG"
			}, {
				"person": {
					"person": "main.lea",
					"expression": "DEFAULT"
				},
				"type": "ADD_MSG_PERSON",
				"side": "RIGHT"
			}, {
				"type": "SHOW_CHOICE",
				"person": {
					"person": "main.lea",
					"expression": "DEFAULT"
				},
				"options": [{
						"label": {
							"en_US": "Start Dungeon"
						}
					}, {
						"label": {
							"en_US": "Difficulty \\c[3][\\v[dungeonResetDifficultyName]]\\c[0]"
						}
					}, {
						"label": {
							"en_US": "Timer \\c[2][On]\\c[0]"
						},
						"showCondition": "dungeonReplayTimerActive"
					}, {
						"label": {
							"en_US": "Timer \\c[1][Off]\\c[0]"
						},
						"showCondition": "!dungeonReplayTimerActive"
					}, {
						"label": {
							"en_US": "\\c[3][Help]\\c[0]"
						}
					}, {
						"label": {
							"en_US": "Cancel"
						}
					}
				],
				"0": [{
						"type": "CLEAR_BOARD_MSG"
					}, {
						"type": "REMOVE_MSG_PERSON",
						"person": "main.lea"
					},{
						"type": "CHANGE_VAR_BOOL",
						"changeType": "set",
						"value": true,
						"varName": "tmp.dungeonReplayStart"
					}
				],
				"1": [
					{
						"type": "IF",
						"condition": "tmp.hasDifficultyMods",
						"withElse": false,
						"thenStep": 
						[
							{
								"type": "SHOW_BOARD_MSG",
								"text": {
									"en_US": "\\s[0]You have \\c[2]Difficulty Mods\\c[0] installed. It's recommended to set this option to \\c[3]Normal\\c[0] and use that mod's assist options instead."
								},
								"side": "LEFT",
								"center": false,
								"autoContinue": true
							}
						]
					},{
						"type": "SHOW_CHOICE",
						"person": {
							"person": "main.lea",
							"expression": "DEFAULT"
						},
						"options": [{
								"label": {
									"en_US": "\\c[3]Normal\\c[0] (Dmg 100%, HP 100%)"
								}
							}, {
								"label": {
									"en_US": "\\c[3]Hard\\c[0]    (Dmg 150%, HP 115%)"
								}
							}, {
								"label": {
									"en_US": "\\c[3]Intense\\c[0] (Dmg 200%, HP 130%)"
								}
							}
						],
						"0": [{
							"type": "CHANGE_VAR_NUMBER",
							"changeType": "set",
							"value": 0,
							"varName": "dungeonResetDifficulty"
						},{
							"type": "CHANGE_VAR_STRING",
							"changeType": "set",
							"value": "Normal",
							"varName": "dungeonResetDifficultyName"
						},{
							"name": "start",
							"type": "GOTO_LABEL"
						}],
						"1": [{
							"type": "CHANGE_VAR_NUMBER",
							"changeType": "set",
							"value": 1,
							"varName": "dungeonResetDifficulty"
						},{
							"type": "CHANGE_VAR_STRING",
							"changeType": "set",
							"value": "Hard",
							"varName": "dungeonResetDifficultyName"
						},{
							"name": "start",
							"type": "GOTO_LABEL"
						}],
						"2": [{
							"type": "CHANGE_VAR_NUMBER",
							"changeType": "set",
							"value": 2,
							"varName": "dungeonResetDifficulty"
						},{
							"type": "CHANGE_VAR_STRING",
							"changeType": "set",
							"value": "Intense",
							"varName": "dungeonResetDifficultyName"
						},{
							"name": "start",
							"type": "GOTO_LABEL"
						}]
					}
				],
				"2": [{
						"type": "CHANGE_VAR_BOOL",
						"changeType": "set",
						"value": false,
						"varName": "dungeonReplayTimerActive"
					},{
						"name": "start",
						"type": "GOTO_LABEL"
					}
				],
				"3": [{
						"type": "CHANGE_VAR_BOOL",
						"changeType": "set",
						"value": true,
						"varName": "dungeonReplayTimerActive"
					},{
						"name": "start",
						"type": "GOTO_LABEL"
					}
				],
				"4": [{
						"type": "REMOVE_MSG_PERSON",
						"person": "main.lea"
					}, {
						"type": "SHOW_BOARD_MSG",
						"text": {
							"en_US": "\\s[1]This terminal lets you reset the dungeon to play it again, scaled to \\c[3]level \\v[dungeonResetBaseLvl]\\c[0]. All puzzles, enemies, events, and chests will be reset."
						},
						"side": "RIGHT",
						"center": false,
						"autoContinue": false
					},{
						"type": "IF",
						"condition": "tmp.dungeonReplayElement",
						"withElse": true,
						"thenStep": 
						[{
							"type": "SHOW_BOARD_MSG",
							"text": {
								"en_US": "\\s[1]While inside this dungeon, you won't be able to its \\c[3]Element\\c[0] until you reclaim it, but all other Elements stay active."
							},
							"side": "RIGHT",
							"center": false,
							"autoContinue": false
						}],
						"elseStep": 
						[{
							"type": "SHOW_BOARD_MSG",
							"text": {
								"en_US": "\\s[1]For any dungeon that grants an \\c[3]Element\\c[0], you won't be able to use it inside that dungeon until you reclaim it, but all other Elements stay active."
							},
							"side": "RIGHT",
							"center": false,
							"autoContinue": false
						}]
					}, {
						"type": "IF",
						"condition": "tmp.dungeonReplayRhombus",
						"withElse": true,
						"thenStep": 
						[{
							"type": "SHOW_BOARD_MSG",
							"text": {
								"en_US": "\\s[1]For any dungeon except this one, you can leave the dungeon at any time and return to finish it later."
							},
							"side": "RIGHT",
							"center": false,
							"autoContinue": false
						}],
						"elseStep": 
						[{
							"type": "SHOW_BOARD_MSG",
							"text": {
								"en_US": "\\s[1]You can leave the dungeon at any time and return to finish it later."
							},
							"side": "RIGHT",
							"center": false,
							"autoContinue": false
						}]
					}, {
						"type": "CLEAR_BOARD_MSG"
					}, {
						"name": "start",
						"type": "GOTO_LABEL"
					}
				],
				"5": [{
						"name": "end",
						"type": "GOTO_LABEL"
					}
				]
			}, {
				"name": "end",
				"type": "LABEL"
			}
		],
		"name": "dungeonReplay",
		"eventType": "CUTSCENE",
		"startCondition": "tmp.dungeonReplay",
		"endCondition": "false",
		"triggerType": "ALWAYS"
	}
}]